const heartbitBaseUrl="https://api.solitics.com";var $soliticsHeartbit={settings:{milliseconds:3e4,url:heartbitBaseUrl+"/rest/heartbeat",isEnabledHeartbit:null,isEnabledHeartbitByBrand:null},transactionData:{isLogin:!1,memberId:"",brand:"",branch:null},getHeartbitMode:function(t){$solitics_getHeartbitMode(t)},closeHeartbit:function(){$solitics_closeHeartbit()}};function $solitics_hasMemberData(){return $soliticsHeartbit.transactionData.brand&&$soliticsHeartbit.transactionData.memberId||$soliticsHeartbit.transactionData.keyType&&$soliticsHeartbit.transactionData.keyValue}function $solitics_getHeartbitMode(t){t&&0<Object.keys(t).length&&($soliticsHeartbit.transactionData={},$soliticsHeartbit.transactionData.memberId=t.memberId,$soliticsHeartbit.transactionData.brand=t.brand,$soliticsHeartbit.transactionData.branch=t.branch,$soliticsHeartbit.transactionData.keyType=t.keyType,$soliticsHeartbit.transactionData.keyValue=t.keyValue,$solitics_hasMemberData()&&($soliticsHeartbit.transactionData.isLogin=!0,$solitics_heartbit()))}function $solitics_heartbit(){var t=setInterval(function(){$soliticsHeartbit.transactionData.isLogin&&$solitics_hasMemberData()?$solitics_sendHeartbit():clearInterval(t)},$soliticsHeartbit.settings.milliseconds)}function $solitics_sendHeartbit(){var t=$soliticsHeartbit.settings.url;let a={memberId:$soliticsHeartbit.transactionData.memberId,brandToken:$soliticsHeartbit.transactionData.brand,keyType:$soliticsHeartbit.transactionData.keyType,keyValue:$soliticsHeartbit.transactionData.keyValue};$soliticsHeartbit.transactionData.branch&&(a.branch=$soliticsHeartbit.transactionData.branch);var i=new XMLHttpRequest;i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){4===i.readyState&&200===i.status?console.log("heartbit success "+i.responseText):4===i.readyState&&(console.log("heartbit "+i.responseText),console.log("heartbit "+i.status))};try{i.send(JSON.stringify(a))}catch(t){console.log(t)}}function $solitics_closeHeartbit(){$soliticsHeartbit.transactionData.isLogin=!1}
